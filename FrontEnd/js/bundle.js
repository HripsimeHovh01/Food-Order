
(()=>{"use strict";function e(e,t){const o=document.querySelector(e);o.classList.remove("hide"),o.classList.add("show"),document.body.style.overflowY="hidden",t&&clearTimeout(t)}function t(e){const t=document.querySelector(e);t.classList.remove("show"),t.classList.add("hide"),document.body.style.overflowY="auto"}document.addEventListener("DOMContentLoaded",(()=>{const o=setTimeout((()=>e(".modal",o)),6e4);!function(){const e=document.querySelectorAll(".tabheader__item"),t=document.querySelector(".tabheader__items"),o=document.querySelectorAll(".tabcontent");function n(){o.forEach((e=>{e.classList.add("hide"),e.classList.remove("show","fade")})),e.forEach((e=>{e.classList.remove("tabheader__item_active")}))}function a(t=0){o[t].classList.add("show","fade"),o[t].classList.remove("hide"),e[t].classList.add("tabheader__item_active")}n(),a(),t.addEventListener("click",(t=>{t.target&&t.target.matches(".tabheader__item")&&e.forEach(((e,o)=>{t.target==e&&(n(),a(o))}))}))}(),function(o,n,a){const s=document.querySelectorAll("[data-modal-trigger]"),c=document.querySelector(n);s.forEach((t=>t.addEventListener("click",(()=>e(n,a))))),c.addEventListener("click",(e=>{(e.target&&e.target===c||""==e.target.getAttribute("data-modal-close"))&&t(n)})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&c.matches(".show")&&t(n)})),window.addEventListener("scroll",(function t(){window.scrollY+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(e(n,a),window.removeEventListener("scroll",t))}))}(0,".modal",o),function(){const e=e=>e>=0&&e<10?`0${e}`:e;!function(){const t=document.querySelector(".timer"),o=t.querySelector("#days"),n=t.querySelector("#hours"),a=t.querySelector("#minutes"),s=t.querySelector("#seconds"),c=setInterval(r,1e3);function r(){const{total:t,days:r,hours:l,minutes:i,seconds:d}=function(e){let t,o,n,a;const s=Date.parse(e)-Date.parse(new Date);return s<=0?(t=0,o=0,n=0,a=0):(t=Math.floor(s/864e5),o=Math.floor(s/36e5%24),n=Math.floor(s/1e3/60%60),a=Math.floor(s/1e3%60)),{total:s,days:t,hours:o,minutes:n,seconds:a}}("2024-12-31 23:59");o.innerHTML=e(r),n.innerHTML=e(l),a.innerHTML=e(i),s.innerHTML=e(d),t<=0&&clearInterval(c)}r()}()}(),function(){class e{constructor(e,t,o,n){this.imgSrc=e,this.title=t,this.descr=o,this.price=n,this.transfer=41.22,this.changeToUAH()}changeToUAH(){this.price*=this.transfer}render(){const e=document.querySelector(".menu__field .container"),{imgSrc:t,title:o,descr:n,price:a}=this;e.innerHTML+=`\n        <div class="menu__item">\n          <img src="${t}" alt="${o}">\n          <h3 class="menu__item-subtitle">${o}</h3>\n          <div class="menu__item-descr">${n}</div>\n          <div class="menu__item-divider"></div>\n          <div class="menu__item-price">\n            <div class="menu__item-cost">Цена:</div>\n            <div class="menu__item-total"><span>${a.toFixed(2)}</span> грн/день</div>\n          </div>\n        </div>\n      `}}(async function(){const e=await fetch("http://localhost:8888/get-menu");if(!e.ok)throw new Error(`Error: ${e.statusText}`);return e.json()})().then((t=>{t.map((({image:t,title:o,description:n,price:a})=>new e(`img/tabs/${t}`,o,n,a).render()))}))}(),function(){const e=document.querySelector(".calculating__result span");let t,o,n,a,s;function c(e,t){document.querySelectorAll(e).forEach((e=>{e.classList.remove(t),e.id===localStorage.getItem("gender")&&e.classList.add(t),e.dataset.ratio===localStorage.getItem("ratio")&&e.classList.add(t)}))}function r(){e.textContent=t&&o&&n&&a&&s?"female"===t?((655.1+9.563*n+1.85*o-4.676*a)*s).toFixed(2):((66.5+13.75*n+5.003*o-6.775*a)*s).toFixed(2):"_______"}function l(e,o){const n=document.querySelectorAll(e);n.forEach((e=>{e.addEventListener("click",(function(e){e.target.getAttribute("data-ratio")?(s=parseFloat(e.target.dataset.ratio),localStorage.setItem("ratio",parseFloat(e.target.dataset.ratio))):(t=e.target.id,localStorage.setItem("gender",t)),n.forEach((e=>e.classList.remove(o))),e.target.classList.add(o),r()}))}))}function i(e){const t=document.querySelector(e);t.addEventListener("input",(function(){if(t.value.match(/\D/g))t.style.border="1px solid red";else{switch(t.style.border="",t.id){case"height":parseFloat(o=t.value);break;case"weight":parseFloat(n=t.value);break;case"age":parseFloat(a=t.value)}r()}}))}localStorage.getItem("gender")?t=localStorage.getItem("gender"):(t="female",localStorage.setItem("gender","female")),localStorage.getItem("ratio")?s=parseFloat(localStorage.getItem("ratio")):(s=1.375,localStorage.setItem("ratio",1.375)),c("#gender div","calculating__choose-item_active"),c(".calculating__choose_big div","calculating__choose-item_active"),r(),l("#gender div","calculating__choose-item_active"),l(".calculating__choose_big div","calculating__choose-item_active"),i("#height"),i("#weight"),i("#age")}(),function(o){const n=document.querySelectorAll("form"),a="Success...";function s(n){const a=document.querySelector(".modal__dialog");a.classList.add("hide"),e(".modal",o);const s=document.createElement("div");s.classList.add("modal__dialog"),s.innerHTML=`\n      <div class="modal__content">\n        <div data-modal-close="" class="modal__close">×</div>\n        <div class="modal__title">${n}</div>\n      </div>\n    `,document.querySelector(".modal").append(s),setTimeout((()=>{s.remove(),a.classList.remove("hide"),a.classList.add("show"),t(".modal")}),1500)}n.forEach((e=>function(e){e.addEventListener("submit",(function(t){t.preventDefault();const o=document.createElement("p");o.classList.add("status_message"),o.innerHTML='<span class="loader"></span>',e.append(o),async function(e,t){const o=await fetch("http://localhost:8888/add-user-info/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(Object.fromEntries(t))});return await o.json()}(0,new FormData(e)).then((e=>{console.log(e),o.textContent=a,o.remove(),s(a)})).catch((e=>{s("Failure..."),console.log(e)})).finally((()=>e.reset()))}))}(e)))}(o),function(){const e=document.querySelector(".offer__slider"),t=document.querySelectorAll(".offer__slide"),o=document.querySelector(".offer__slider-prev"),n=document.querySelector(".offer__slider-next"),a=document.querySelector("#total"),s=document.querySelector("#current"),c=document.querySelector(".offer__slider-inner"),r=document.querySelector(".offer__slider-wrapper"),l=window.getComputedStyle(r).width;let i=1,d=0;t.length<10?(a.textContent=`0${t.length}`,s.textContent=`0${i}`):(a.textContent=t.length,s.textContent=i),c.style.width=100*t.length+"%",c.style.display="flex",c.style.transition="0.5s all",r.style.overflow="hidden",t.forEach((e=>e.style.width=l)),e.style.position="relative";const u=document.createElement("ul"),m=[];u.classList.add("carousel-dots"),e.append(u);for(let e=0;e<t.length;e++){const t=document.createElement("li");t.setAttribute("data-slide-to",e+1),t.classList.add("dot"),0===e&&(t.style.opacity=1),u.append(t),m.push(t)}n.addEventListener("click",(()=>{d==parseFloat(l)*(t.length-1)?d=0:d+=parseFloat(l),c.style.transform=`translateX(-${d}px)`,i==t.length?i=1:i++,t.length<10?s.textContent=`0${i}`:s.textContent=i,m.forEach((e=>e.style.opacity="0.5")),m[i-1].style.opacity="1"})),o.addEventListener("click",(()=>{0==d?d=parseFloat(l)*(t.length-1):d-=parseFloat(l),c.style.transform=`translateX(-${d}px)`,1==i?i=t.length:i--,t.length<10?s.textContent=`0${i}`:s.textContent=i,m.forEach((e=>e.style.opacity="0.5")),m[i-1].style.opacity="1"})),m.forEach((e=>{e.addEventListener("click",(e=>{const o=parseInt(e.target.dataset.slideTo);i=o,d=parseFloat(l)*(o-1),c.style.transform=`translateX(-${d}px)`,t.length<10?s.textContent=`0${i}`:s.textContent=i,m.forEach((e=>e.style.opacity="0.5")),m[i-1].style.opacity="1"}))}))}()}))})();
//# sourceMappingURL=bundle.js.map

